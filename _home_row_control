#!/usr/bin/env bash
### home row control: use big keys on the home row as ctrl modifiers

## Author: Ryan Prior <ryanprior@gmail.com>

## This file is free software dedicated to the public domain. See
## COPYING or https://creativecommons.org/publicdomain/zero/1.0/ for
## details.

function enter_acts_as_ctrl () {
    # arbitrary high (>255) key number to avoid conflict
    local key='0x1024'
    # enter key number, as reported by xev
    local enter_key_number='36'
    xmodmap -e "keycode $enter_key_number = $key"
    xmodmap -e "add control = $key"
    xmodmap -e "keycode any = Return"
    xcape   -e "$key=Return"
}

function remap_caps_to_ctrl () {
    setxkbmap -option ctrl:nocaps
}

(
    enter_acts_as_ctrl
    remap_caps_to_ctrl
) 2>&1 >/dev/null &
